<div class="menu-root">
  <div class="menu-trigger" #triggerRef (click)="toggle($event)">
    <ng-content select="[menu-trigger]"></ng-content>
  </div>

  <!-- Add [class.open]="isOpen" so CSS can flip visibility -->
  <div class="menu-panel" *ngIf="isOpen" [class.open]="isOpen" [ngStyle]="panelStyles" (click)="$event.stopPropagation()">
    <ng-content></ng-content>
  </div>
</div>
